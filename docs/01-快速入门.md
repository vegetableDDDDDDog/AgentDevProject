# ğŸš€ å¿«é€Ÿå…¥é—¨æŒ‡å—

> 5 åˆ†é’Ÿä¸Šæ‰‹ LangChain Agent å¼€å‘

---

## ğŸ“‹ å‰ç½®è¦æ±‚

- Python 3.9+
- pip åŒ…ç®¡ç†å™¨
- æ™ºè°± AI API Keyï¼ˆæˆ–å…¶ä»–å…¼å®¹çš„ LLM APIï¼‰

---

## âš¡ 3 æ­¥å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1: å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

**æ‰€éœ€æ ¸å¿ƒä¾èµ–ï¼š**
- `langchain` - LLM åº”ç”¨æ¡†æ¶
- `langchain-openai` - OpenAI å…¼å®¹æ¥å£
- `langchain-community` - ç¤¾åŒºæ‰©å±•
- `chromadb` - å‘é‡æ•°æ®åº“
- `python-dotenv` - ç¯å¢ƒå˜é‡ç®¡ç†

### æ­¥éª¤ 2: é…ç½® API

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
OPENAI_API_KEY=your_api_key_here
OPENAI_API_BASE=https://open.bigmodel.cn/api/paas/v4/
OPENAI_MODEL=glm-4
OPENAI_EMBEDDING_MODEL=embedding-3
```

**è·å– API Keyï¼š**
- è®¿é—® [æ™ºè°± AI å¼€æ”¾å¹³å°](https://open.bigmodel.cn/)
- æ³¨å†Œè´¦å·å¹¶åˆ›å»º API Key
- å¤åˆ¶ Key åˆ° `.env` æ–‡ä»¶

### æ­¥éª¤ 3: è¿è¡Œç¬¬ä¸€ä¸ª Agent

```bash
python agents/my_first_agent.py
```

è¾“å…¥é—®é¢˜ï¼Œå¼€å§‹ä½“éªŒï¼

---

## ğŸ¤– ä½“éªŒä¸åŒ Agent

### 1ï¸âƒ£ å•è½®å¯¹è¯ Agent

**é€‚åˆï¼š** ä¸€æ¬¡æ€§é—®ç­”ã€å¿«é€ŸåŸå‹

```bash
python agents/my_first_agent.py
```

**ç‰¹ç‚¹ï¼š**
- âœ… ç®€å•ç›´æ¥
- âœ… æ— çŠ¶æ€ï¼Œæ¯æ¬¡ç‹¬ç«‹
- âŒ æ— æ³•è®°ä½ä¸Šä¸‹æ–‡

### 2ï¸âƒ£ å¤šè½®å¯¹è¯ Agent

**é€‚åˆï¼š** è¿ç»­å¯¹è¯ã€éœ€è¦ä¸Šä¸‹æ–‡

```bash
python agents/chat_agent.py
```

**ç‰¹ç‚¹ï¼š**
- âœ… è®°ä½å¯¹è¯å†å²
- âœ… æ”¯æŒå¤šç”¨æˆ·ï¼ˆsession_idï¼‰
- âœ… å†å²æŒä¹…åŒ–åˆ°æ•°æ®åº“
- âœ… è‡ªåŠ¨è£å‰ªé˜²æ­¢ token æº¢å‡º

**äº¤äº’å‘½ä»¤ï¼š**
- `clear` - æ¸…ç©ºå½“å‰ä¼šè¯
- `status` - æŸ¥çœ‹çŠ¶æ€
- `exit` - é€€å‡º

### 3ï¸âƒ£ å·¥å…·è°ƒç”¨ Agent

**é€‚åˆï¼š** éœ€è¦æ‰§è¡Œå®é™…æ“ä½œ

```bash
python agents/tool_agent_simple.py
```

**å†…ç½®å·¥å…·ï¼š**
- ğŸ§® è®¡ç®—å™¨ - æ•°å­¦è®¡ç®—
- â° æ—¶é—´å·¥å…· - è·å–å½“å‰æ—¶é—´
- ğŸ“Š å­—æ•°ç»Ÿè®¡ - æ–‡æœ¬åˆ†æ
- ğŸ¨ ASCII è‰ºæœ¯å­— - ç”Ÿæˆè‰ºæœ¯å­—

**ç¤ºä¾‹å¯¹è¯ï¼š**
```
ä½ : 123 * 456 ç­‰äºå¤šå°‘ï¼Ÿ
AI: ğŸ”§ è°ƒç”¨è®¡ç®—å™¨å·¥å…·...
   ç»“æœ: 56088

ä½ : ç°åœ¨å‡ ç‚¹äº†ï¼Ÿ
AI: ğŸ”§ è°ƒç”¨æ—¶é—´å·¥å…·...
   ç»“æœ: 2026-02-05 12:30:45
```

### 4ï¸âƒ£ RAG çŸ¥è¯†åº“ Agent

**é€‚åˆï¼š** åŸºäºæ–‡æ¡£çš„é—®ç­”ç³»ç»Ÿ

```bash
# äº¤äº’æ¨¡å¼
python agents/rag_agent.py

# åŠ è½½æ–‡æ¡£å¹¶å¯åŠ¨
python agents/rag_agent.py --load knowledge_base
```

**äº¤äº’å‘½ä»¤ï¼š**
- `load <è·¯å¾„>` - åŠ è½½æ–‡æ¡£ç›®å½•
- `add <æ–‡æœ¬>` - æ·»åŠ æ–‡æœ¬åˆ°çŸ¥è¯†åº“
- `status` - æŸ¥çœ‹çŸ¥è¯†åº“çŠ¶æ€

**ç¤ºä¾‹ï¼š**
```
ä½ : load knowledge_base
âœ… åŠ è½½äº† 3 ä¸ªæ–‡æ¡£

ä½ : Python æœ‰å“ªäº›åº”ç”¨é¢†åŸŸï¼Ÿ
ğŸ“š æ£€ç´¢ç›¸å…³æ–‡æ¡£...
ğŸ’¬ å›ç­”ï¼šæ ¹æ®çŸ¥è¯†åº“ï¼ŒPython åº”ç”¨äº Web å¼€å‘ã€æ•°æ®åˆ†æã€AI...
```

### 5ï¸âƒ£ ç³»ç»Ÿç›‘æ§ Agent

**é€‚åˆï¼š** Linux ç³»ç»Ÿç®¡ç†

```bash
python agents/linux_monitor.py
```

**ç›‘æ§åŠŸèƒ½ï¼š**
- CPUã€å†…å­˜ä½¿ç”¨ç‡
- ç£ç›˜ç©ºé—´
- è¿›ç¨‹ç®¡ç†
- ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢

---

## ğŸ§ª è¿è¡Œæµ‹è¯•

éªŒè¯ç¯å¢ƒé…ç½®æ˜¯å¦æ­£ç¡®ï¼š

```bash
# ç¯å¢ƒæ£€æµ‹
python tests/test_setup.py

# æŒä¹…åŒ–æµ‹è¯•
python tests/test_persistence.py

# å·¥å…·åŠŸèƒ½æµ‹è¯•
python tests/test_tools.py

# RAG åŠŸèƒ½æµ‹è¯•
python tests/test_rag.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
âœ… ç¯å¢ƒé…ç½®å®Œç¾ï¼å¯ä»¥å¼€å§‹å¼€å‘ Agent äº†ï¼
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„é€Ÿè§ˆ

```
AgentDevProject/
â”œâ”€â”€ agents/          # Agent ç¨‹åº
â”‚   â”œâ”€â”€ my_first_agent.py
â”‚   â”œâ”€â”€ chat_agent.py
â”‚   â”œâ”€â”€ tool_agent_simple.py
â”‚   â”œâ”€â”€ rag_agent.py
â”‚   â””â”€â”€ linux_monitor.py
â”‚
â”œâ”€â”€ tests/           # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ utils/           # å·¥å…·è„šæœ¬
â”œâ”€â”€ docs/            # å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ data/            # è¿è¡Œæ—¶æ•°æ®
â””â”€â”€ knowledge_base/  # ç¤ºä¾‹çŸ¥è¯†åº“
```

---

## ğŸ¯ é€‰æ‹©åˆé€‚çš„ Agent

| éœ€æ±‚ | æ¨è Agent | å‘½ä»¤ |
|------|-----------|------|
| å¿«é€Ÿæµ‹è¯• LLM | å•è½®å¯¹è¯ | `python agents/my_first_agent.py` |
| è¿ç»­å¯¹è¯èŠå¤© | å¤šè½®å¯¹è¯ | `python agents/chat_agent.py` |
| æ•°å­¦è®¡ç®—ã€æ—¶é—´æŸ¥è¯¢ | å·¥å…·è°ƒç”¨ | `python agents/tool_agent_simple.py` |
| æ–‡æ¡£é—®ç­”ç³»ç»Ÿ | RAG | `python agents/rag_agent.py` |
| ç³»ç»Ÿç®¡ç†åŠ©æ‰‹ | ç³»ç»Ÿç›‘æ§ | `python agents/linux_monitor.py` |

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: æç¤º API é”™è¯¯

**é”™è¯¯ï¼š** `null value for 'choices'`

**è§£å†³ï¼š** æ£€æŸ¥ `.env` ä¸­çš„ `OPENAI_API_BASE` æ˜¯å¦ä¸ºï¼š
```
https://open.bigmodel.cn/api/paas/v4/
```

### Q2: é€Ÿç‡é™åˆ¶é”™è¯¯

**é”™è¯¯ï¼š** `Error code: 429`

**è§£å†³ï¼š** ç­‰å¾… 2-3 åˆ†é’Ÿåé‡è¯•ï¼Œæˆ–å‡çº§ API å¥—é¤

### Q3: å¦‚ä½•æŸ¥çœ‹èŠå¤©å†å²ï¼Ÿ

```bash
python utils/view_history.py
```

### Q4: å¦‚ä½•æ¸…é™¤æ•°æ®ï¼Ÿ

```bash
# æ¸…é™¤èŠå¤©å†å²
rm data/chat_history.db

# æ¸…é™¤å‘é‡æ•°æ®åº“
rm -rf data/chroma_db

# ä¸‹æ¬¡è¿è¡Œä¼šè‡ªåŠ¨é‡æ–°åˆ›å»º
```

---

## ğŸ“š ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯»è¯¦ç»†æ•™ç¨‹ï¼š[10-å•è½®å¯¹è¯Agent](10-å•è½®å¯¹è¯Agent.md)
- ğŸ“ å­¦ä¹ æœ€ä½³å®è·µï¼š[20-æœ€ä½³å®è·µ](20-æœ€ä½³å®è·µ.md)
- ğŸ’¡ æŸ¥çœ‹ API å‚è€ƒï¼š[30-ä»£ç é€ŸæŸ¥](30-ä»£ç é€ŸæŸ¥.md)

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿé€‰æ‹©ä¸€ä¸ª Agent å¼€å§‹æ¢ç´¢å§ï¼** ğŸš€
